Type.registerNamespace("Artem.Google");Artem.Google.MarkersBehavior=function(n){Artem.Google.MarkersBehavior.initializeBase(this,[n])};Artem.Google.MarkersBehavior.prototype={initialize:function(){Artem.Google.MarkersBehavior.callBaseMethod(this,"initialize");Artem.Worker.queue(Function.createDelegate(this,this._attach))},dispose:function(){this._detach();Artem.Google.MarkersBehavior.callBaseMethod(this,"dispose")}},function(n){function t(n,t){t&&(n&&(t.position=n),gmarker=new google.maps.Marker(t),t.info&&(ginfo=new google.maps.InfoWindow(Artem.Google.merge({content:t.info},this.infoOptions)),t.info=ginfo,google.maps.event.addListener(gmarker,"click",Function.createDelegate(this,Function.createCallback(function(n,t){if(this.map.disableMultipleInfoWindows)for(i=0;i<this.infos.length;i++)this.infos[i].close();t.i.open(this.map,t.m)},{m:gmarker,i:ginfo}))),this.markerOptions[t.index].autoOpen&&ginfo.open(this.map,gmarker),this.infos.push(ginfo)),this.markers.push(gmarker));this.counter++;this.counter==this.markerOptions.length&&this.composeEvents()}n.counter=0;n.map=null;n.markers=[];n.infos=[];n.get_groupOptions=function(){return this.groupOptions};n.set_groupOptions=function(n){this.groupOptions=n};n.get_infoOptions=function(){return this.infoOptions};n.set_infoOptions=function(n){this.infoOptions=n};n.get_markerOptions=function(){return this.markerOptions};n.set_markerOptions=function(n){this.markerOptions=n};n.get_name=function(){return this.name};n.set_name=function(n){this.name=n};n._attach=function(){var n=$find(this.get_element().id);n&&n.add_mapLoaded(Function.createDelegate(this,this.create))};n._detach=function(){if(this.markers)for(var n=0;n<this.markers.length;n++)google.maps.event.clearInstanceListeners(this.markers[n])};n.create=function(){var i,r,n,f,u;if(this.markerOptions)for(this.map||(i=$find(this.get_element().id),i&&(this.map=i.map)),r=0;r<this.markerOptions.length;r++)n=Artem.Google.merge(this.groupOptions,this.markerOptions[r]),n.map=this.map,n.index=r,n.position?(n.position=new google.maps.LatLng(n.position.lat,n.position.lng),Function.createDelegate(this,t)(null,n)):n.address&&(f=Function.createDelegate(this,Function.createCallback(t,n)),u={address:n.address},i&&(u.language=i.get_language(),u.region=i.get_region()),Artem.Google.Geocoding.getLocation(u,f))}}(Artem.Google.MarkersBehavior.prototype),function(n){function i(n){var t=this.get_events().getHandler("animation_changed");t&&t(this,{index:n})}function r(n,t){var i=this.get_events().getHandler("click");n.index=t;i&&i(this,n)}function u(n){var t=this.get_events().getHandler("clickable_changed");t&&t(this,{index:n})}function f(n){var t=this.get_events().getHandler("cursor_changed");t&&t(this,{index:n})}function e(n,t){var i=this.get_events().getHandler("dblclick");n.index=t;i&&i(this,n)}function o(n,t){var i=this.get_events().getHandler("drag");n.index=t;i&&i(this,n)}function s(n,t){var i=this.get_events().getHandler("dragend");n.index=t;i&&i(this,n)}function h(n){var t=this.get_events().getHandler("draggable_changed");t&&t(this,{index:n})}function c(n,t){var i=this.get_events().getHandler("dragstart");n.index=t;i&&i(this,n)}function l(n){var t=this.get_events().getHandler("flat_changed");t&&t(this,{index:n})}function a(n){var t=this.get_events().getHandler("icon_changed");t&&t(this,{index:n})}function v(n,t){var i=this.get_events().getHandler("mousedown");n.index=t;i&&i(this,n)}function y(n,t){var i=this.get_events().getHandler("mouseout");n.index=t;i&&i(this,n)}function p(n,t){var i=this.get_events().getHandler("mouseover");n.index=t;i&&i(this,n)}function w(n,t){var i=this.get_events().getHandler("mouseup");n.index=t;i&&i(this,n)}function b(n){var t=this.get_events().getHandler("position_changed");t&&t(this,{index:n})}function k(n,t){var i=this.get_events().getHandler("rightclick");n.index=t;i&&i(this,n)}function d(n){var t=this.get_events().getHandler("shadow_changed");t&&t(this,{index:n})}function g(n){var t=this.get_events().getHandler("title_changed");t&&t(this,{index:n})}function nt(n){var t=this.get_events().getHandler("visible_changed");t&&t(this,{index:n})}function tt(n){var t=this.get_events().getHandler("zindex_changed");t&&t(this,{index:n})}var t={animation_changed:i,click:r,clickable_changed:u,cursor_changed:f,dblclick:e,drag:o,dragend:s,draggable_changed:h,dragstart:c,flat_changed:l,icon_changed:a,mousedown:v,mouseout:y,mouseover:p,mouseup:w,position_changed:b,rightclick:k,shadow_changed:d,title_changed:g,visible_changed:nt,zindex_changed:tt};n.delegates={animation_changed:null,click:null,clickable_changed:null,cursor_changed:null,dblclick:null,drag:null,dragend:null,draggable_changed:null,dragstart:null,flat_changed:null,icon_changed:null,mousedown:null,mouseout:null,mouseover:null,mouseup:null,position_changed:null,rightclick:null,shadow_changed:null,title_changed:null,visible_changed:null,zindex_changed:null};n.listeners={animation_changed:[],click:[],clickable_changed:[],cursor_changed:[],dblclick:[],drag:[],dragend:[],draggable_changed:[],dragstart:[],flat_changed:[],icon_changed:[],mousedown:[],mouseout:[],mouseover:[],mouseup:[],position_changed:[],rightclick:[],shadow_changed:[],title_changed:[],visible_changed:[],zindex_changed:[]};n.composeEvents=function(){var u,r,n,i,f;if(this.markers)for(n=0;n<this.markers.length;n++)for(i in t)u=this.get_events().getHandler(i),r=this.listeners[i][n],u?r||(f=Function.createDelegate(this,Function.createCallback(t[i],this.markers[n].index)),this.listeners[i][n]=google.maps.event.addListener(this.markers[n],i,f)):r&&google.maps.event.removeListener(r)};n.add_animationChanged=function(n){this.get_events().addHandler("animation_changed",n);this.composeEvents()};n.remove_animationChanged=function(n){this.get_events().removeHandler("animation_changed",n);this.composeEvents()};n.add_click=function(n){this.get_events().addHandler("click",n);this.composeEvents()};n.remove_click=function(n){this.get_events().removeHandler("click",n);this.composeEvents()};n.add_clickableChanged=function(n){this.get_events().addHandler("clickable_changed",n);this.composeEvents()};n.remove_clickableChanged=function(n){this.get_events().removeHandler("clickable_changed",n);this.composeEvents()};n.add_cursorChanged=function(n){this.get_events().addHandler("cursor_changed",n);this.composeEvents()};n.remove_cursorChanged=function(n){this.get_events().removeHandler("cursor_changed",n);this.composeEvents()};n.add_doubleClick=function(n){this.get_events().addHandler("dblclick",n);this.composeEvents()};n.remove_doubleClick=function(n){this.get_events().removeHandler("dblclick",n);this.composeEvents()};n.add_drag=function(n){this.get_events().addHandler("drag",n);this.composeEvents()};n.remove_drag=function(n){this.get_events().removeHandler("drag",n);this.composeEvents()};n.add_dragEnd=function(n){this.get_events().addHandler("dragend",n);this.composeEvents()};n.remove_dragEnd=function(n){this.get_events().removeHandler("dragend",n);this.composeEvents()};n.add_draggableChanged=function(n){this.get_events().addHandler("draggable_changed",n);this.composeEvents()};n.remove_draggableChanged=function(n){this.get_events().removeHandler("draggable_changed",n);this.composeEvents()};n.add_dragStart=function(n){this.get_events().addHandler("dragstart",n);this.composeEvents()};n.remove_dragStart=function(n){this.get_events().removeHandler("dragstart",n);this.composeEvents()};n.add_flatChanged=function(n){this.get_events().addHandler("flat_changed",n);this.composeEvents()};n.remove_flatChanged=function(n){this.get_events().removeHandler("flat_changed",n);this.composeEvents()};n.add_iconChanged=function(n){this.get_events().addHandler("icon_changed",n);this.composeEvents()};n.remove_iconChanged=function(n){this.get_events().removeHandler("icon_changed",n);this.composeEvents()};n.add_mouseDown=function(n){this.get_events().addHandler("mousedown",n);this.composeEvents()};n.remove_mouseDown=function(n){this.get_events().removeHandler("mousedown",n);this.composeEvents()};n.add_mouseOut=function(n){this.get_events().addHandler("mouseout",n);this.composeEvents()};n.remove_mouseOut=function(n){this.get_events().removeHandler("mouseout",n);this.composeEvents()};n.add_mouseOver=function(n){this.get_events().addHandler("mouseover",n);this.composeEvents()};n.remove_mouseOver=function(n){this.get_events().removeHandler("mouseover",n);this.composeEvents()};n.add_mouseUp=function(n){this.get_events().addHandler("mouseup",n);this.composeEvents()};n.remove_mouseUp=function(n){this.get_events().removeHandler("mouseup",n);this.composeEvents()};n.add_positionChanged=function(n){this.get_events().addHandler("position_changed",n);this.composeEvents()};n.remove_positionChanged=function(n){this.get_events().removeHandler("position_changed",n);this.composeEvents()};n.add_rightClick=function(n){this.get_events().addHandler("rightclick",n);this.composeEvents()};n.remove_rightClick=function(n){this.get_events().removeHandler("rightclick",n);this.composeEvents()};n.add_shadowChanged=function(n){this.get_events().addHandler("shadow_changed",n);this.composeEvents()};n.remove_shadowChanged=function(n){this.get_events().removeHandler("shadow_changed",n);this.composeEvents()};n.add_shapeChanged=function(n){this.get_events().addHandler("shape_changed",n);this.composeEvents()};n.remove_shapeChanged=function(n){this.get_events().removeHandler("shape_changed",n);this.composeEvents()};n.add_titleChanged=function(n){this.get_events().addHandler("title_changed",n);this.composeEvents()};n.remove_titleChanged=function(n){this.get_events().removeHandler("title_changed",n);this.composeEvents()};n.add_visibleChanged=function(n){this.get_events().addHandler("visible_changed",n);this.composeEvents()};n.remove_visibleChanged=function(n){this.get_events().removeHandler("visible_changed",n);this.composeEvents()};n.add_zindexChanged=function(n){this.get_events().addHandler("zindex_changed",n);this.composeEvents()};n.remove_zindexChanged=function(n){this.get_events().removeHandler("zindex_changed",n);this.composeEvents()}}(Artem.Google.MarkersBehavior.prototype),function(n){function t(n,t,i){var r=i.latLng||t.markers[i.index].getPosition(),u=t.name,f={index:i.index,name:n,position:{lat:r.lat(),lng:r.lng()}};__doPostBack(u,Sys.Serialization.JavaScriptSerializer.serialize(f))}n.raiseServerAnimationChanged=function(n,i){t("animationChanged",n,i)};n.raiseServerClick=function(n,i){t("click",n,i)};n.raiseServerClickableChanged=function(n,i){t("clickableChanged",n,i)};n.raiseServerCursorChanged=function(n,i){t("cursorChanged",n,i)};n.raiseServerDoubleClick=function(n,i){t("doubleClick",n,i)};n.raiseServerDrag=function(n,i){t("drag",n,i)};n.raiseServerDragEnd=function(n,i){t("dragEnd",n,i)};n.raiseServerDragStart=function(n,i){t("dragStart",n,i)};n.raiseServerFlatChanged=function(n,i){t("flatChanged",n,i)};n.raiseServerIconChanged=function(n,i){t("iconChanged",n,i)};n.raiseServerMouseDown=function(n,i){t("mouseDown",n,i)};n.raiseServerMouseOut=function(n,i){t("mouseOut",n,i)};n.raiseServerMouseOver=function(n,i){t("mouseOver",n,i)};n.raiseServerMouseUp=function(n,i){t("mouseUp",n,i)};n.raiseServerPositionChanged=function(n,i){t("positionChanged",n,i)};n.raiseServerRightClick=function(n,i){t("rightClick",n,i)};n.raiseServerShadowChanged=function(n,i){t("shadowChanged",n,i)};n.raiseServerShapeChanged=function(n,i){t("shapeChanged",n,i)};n.raiseServerTitleChanged=function(n,i){t("titleChanged",n,i)};n.raiseServerVisibleChanged=function(n,i){t("visibleChanged",n,i)};n.raiseServerZIndexChanged=function(n,i){t("zindexChanged",n,i)}}(Artem.Google.MarkersBehavior);Artem.Google.MarkersBehavior.registerClass("Artem.Google.MarkersBehavior",Sys.UI.Behavior);
/*
//# sourceMappingURL=GoogleMarkersBehavior.min.js.map
*/