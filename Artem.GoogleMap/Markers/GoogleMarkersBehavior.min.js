Type.registerNamespace("Artem.Google");Artem.Google.MarkersBehavior=function(a){Artem.Google.MarkersBehavior.initializeBase(this,[a])};Artem.Google.MarkersBehavior.prototype={initialize:function(){Artem.Google.MarkersBehavior.callBaseMethod(this,"initialize");this._attach()},dispose:function(){this._detach();Artem.Google.MarkersBehavior.callBaseMethod(this,"dispose")}};(function(a){a.counter=0;a.map=null;a.markers=[];a.get_groupOptions=function(){return this.groupOptions};a.set_groupOptions=function(a){this.groupOptions=a};a.get_infoOptions=function(){return this.infoOptions};a.set_infoOptions=function(a){this.infoOptions=a};a.get_markerOptions=function(){return this.markerOptions};a.set_markerOptions=function(a){this.markerOptions=a};a.get_name=function(){return this.name};a.set_name=function(a){this.name=a};a._attach=function(){var a=$find(this.get_element().id);a&&a.add_mapLoaded(Function.createDelegate(this,this.create))};a._detach=function(){if(this.markers)for(var a=0;a<this.markers.length;a++)google.maps.event.clearInstanceListeners(this.markers[a])};a.create=function(){var c=this;if(c.markerOptions){var d,h,i;if(!c.map){d=$find(c.get_element().id);if(d)c.map=d.map}for(var e=0;e<c.markerOptions.length;e++){var a=Artem.Google.merge(c.groupOptions,c.markerOptions[e]);a.map=c.map;a.index=e;if(a.position){a.position=new google.maps.LatLng(a.position.lat,a.position.lng);Function.createDelegate(c,b)(null,a)}else if(a.address){var g=Function.createDelegate(c,Function.createCallback(b,a)),f={address:a.address};if(d){f.language=d.get_language();f.region=d.get_region()}Artem.Google.Geocoding.getLocation(f,g)}}}};function b(c,b){var a=this;if(b){if(c)b.position=c;gmarker=new google.maps.Marker(b);if(b.info){ginfo=new google.maps.InfoWindow(Artem.Google.merge({content:b.info},a.infoOptions));b.info=ginfo;google.maps.event.addListener(gmarker,"click",Function.createDelegate(a,Function.createCallback(function(b,a){a.i.open(this.map,a.m)},{m:gmarker,i:ginfo})))}a.markers.push(gmarker)}a.counter++;a.counter==a.markerOptions.length&&a.composeEvents()}})(Artem.Google.MarkersBehavior.prototype);(function(a){var p="zindex_changed",o="visible_changed",n="title_changed",m="shape_changed",l="shadow_changed",k="rightclick",j="position_changed",i="mouseup",h="mouseover",g="mouseout",f="mousedown",e="icon_changed",d="flat_changed",c="dragstart",x="draggable_changed",w="dragend",v="drag",u="dblclick",t="cursor_changed",s="clickable_changed",r="click",q="animation_changed",b=null,y={animation_changed:z,click:S,clickable_changed:A,cursor_changed:E,dblclick:I,drag:T,dragend:Q,draggable_changed:B,dragstart:M,flat_changed:J,icon_changed:K,mousedown:N,mouseout:P,mouseover:O,mouseup:R,position_changed:C,rightclick:L,shadow_changed:F,title_changed:H,visible_changed:D,zindex_changed:G};a.delegates={animation_changed:b,click:b,clickable_changed:b,cursor_changed:b,dblclick:b,drag:b,dragend:b,draggable_changed:b,dragstart:b,flat_changed:b,icon_changed:b,mousedown:b,mouseout:b,mouseover:b,mouseup:b,position_changed:b,rightclick:b,shadow_changed:b,title_changed:b,visible_changed:b,zindex_changed:b};a.listeners={animation_changed:[],click:[],clickable_changed:[],cursor_changed:[],dblclick:[],drag:[],dragend:[],draggable_changed:[],dragstart:[],flat_changed:[],icon_changed:[],mousedown:[],mouseout:[],mouseover:[],mouseup:[],position_changed:[],rightclick:[],shadow_changed:[],title_changed:[],visible_changed:[],zindex_changed:[]};a.composeEvents=function(){var a=this;if(a.markers)for(var e,d,b=0;b<a.markers.length;b++)for(var c in y){e=a.get_events().getHandler(c);d=a.listeners[c][b];if(e){if(!d){var f=Function.createDelegate(a,Function.createCallback(y[c],a.markers[b].index));a.listeners[c][b]=google.maps.event.addListener(a.markers[b],c,f)}}else d&&google.maps.event.removeListener(d)}};a.add_animationChanged=function(a){this.get_events().addHandler(q,a);this.composeEvents()};a.remove_animationChanged=function(a){this.get_events().removeHandler(q,a);this.composeEvents()};function z(b){var a=this.get_events().getHandler(q);a&&a(this,{index:b})}a.add_click=function(a){this.get_events().addHandler(r,a);this.composeEvents()};a.remove_click=function(a){this.get_events().removeHandler(r,a);this.composeEvents()};function S(b,c){var a=this.get_events().getHandler(r);b.index=c;a&&a(this,b)}a.add_clickableChanged=function(a){this.get_events().addHandler(s,a);this.composeEvents()};a.remove_clickableChanged=function(a){this.get_events().removeHandler(s,a);this.composeEvents()};function A(b){var a=this.get_events().getHandler(s);a&&a(this,{index:b})}a.add_cursorChanged=function(a){this.get_events().addHandler(t,a);this.composeEvents()};a.remove_cursorChanged=function(a){this.get_events().removeHandler(t,a);this.composeEvents()};function E(b){var a=this.get_events().getHandler(t);a&&a(this,{index:b})}a.add_doubleClick=function(a){this.get_events().addHandler(u,a);this.composeEvents()};a.remove_doubleClick=function(a){this.get_events().removeHandler(u,a);this.composeEvents()};function I(b,c){var a=this.get_events().getHandler(u);b.index=c;a&&a(this,b)}a.add_drag=function(a){this.get_events().addHandler(v,a);this.composeEvents()};a.remove_drag=function(a){this.get_events().removeHandler(v,a);this.composeEvents()};function T(b,c){var a=this.get_events().getHandler(v);b.index=c;a&&a(this,b)}a.add_dragEnd=function(a){this.get_events().addHandler(w,a);this.composeEvents()};a.remove_dragEnd=function(a){this.get_events().removeHandler(w,a);this.composeEvents()};function Q(b,c){var a=this.get_events().getHandler(w);b.index=c;a&&a(this,b)}a.add_draggableChanged=function(a){this.get_events().addHandler(x,a);this.composeEvents()};a.remove_draggableChanged=function(a){this.get_events().removeHandler(x,a);this.composeEvents()};function B(b){var a=this.get_events().getHandler(x);a&&a(this,{index:b})}a.add_dragStart=function(a){this.get_events().addHandler(c,a);this.composeEvents()};a.remove_dragStart=function(a){this.get_events().removeHandler(c,a);this.composeEvents()};function M(b,d){var a=this.get_events().getHandler(c);b.index=d;a&&a(this,b)}a.add_flatChanged=function(a){this.get_events().addHandler(d,a);this.composeEvents()};a.remove_flatChanged=function(a){this.get_events().removeHandler(d,a);this.composeEvents()};function J(b){var a=this.get_events().getHandler(d);a&&a(this,{index:b})}a.add_iconChanged=function(a){this.get_events().addHandler(e,a);this.composeEvents()};a.remove_iconChanged=function(a){this.get_events().removeHandler(e,a);this.composeEvents()};function K(b){var a=this.get_events().getHandler(e);a&&a(this,{index:b})}a.add_mouseDown=function(a){this.get_events().addHandler(f,a);this.composeEvents()};a.remove_mouseDown=function(a){this.get_events().removeHandler(f,a);this.composeEvents()};function N(b,c){var a=this.get_events().getHandler(f);b.index=c;a&&a(this,b)}a.add_mouseOut=function(a){this.get_events().addHandler(g,a);this.composeEvents()};a.remove_mouseOut=function(a){this.get_events().removeHandler(g,a);this.composeEvents()};function P(b,c){var a=this.get_events().getHandler(g);b.index=c;a&&a(this,b)}a.add_mouseOver=function(a){this.get_events().addHandler(h,a);this.composeEvents()};a.remove_mouseOver=function(a){this.get_events().removeHandler(h,a);this.composeEvents()};function O(b,c){var a=this.get_events().getHandler(h);b.index=c;a&&a(this,b)}a.add_mouseUp=function(a){this.get_events().addHandler(i,a);this.composeEvents()};a.remove_mouseUp=function(a){this.get_events().removeHandler(i,a);this.composeEvents()};function R(b,c){var a=this.get_events().getHandler(i);b.index=c;a&&a(this,b)}a.add_positionChanged=function(a){this.get_events().addHandler(j,a);this.composeEvents()};a.remove_positionChanged=function(a){this.get_events().removeHandler(j,a);this.composeEvents()};function C(b){var a=this.get_events().getHandler(j);a&&a(this,{index:b})}a.add_rightClick=function(a){this.get_events().addHandler(k,a);this.composeEvents()};a.remove_rightClick=function(a){this.get_events().removeHandler(k,a);this.composeEvents()};function L(b,c){var a=this.get_events().getHandler(k);b.index=c;a&&a(this,b)}a.add_shadowChanged=function(a){this.get_events().addHandler(l,a);this.composeEvents()};a.remove_shadowChanged=function(a){this.get_events().removeHandler(l,a);this.composeEvents()};function F(b){var a=this.get_events().getHandler(l);a&&a(this,{index:b})}a.add_shapeChanged=function(a){this.get_events().addHandler(m,a);this.composeEvents()};a.remove_shapeChanged=function(a){this.get_events().removeHandler(m,a);this.composeEvents()};a.add_titleChanged=function(a){this.get_events().addHandler(n,a);this.composeEvents()};a.remove_titleChanged=function(a){this.get_events().removeHandler(n,a);this.composeEvents()};function H(b){var a=this.get_events().getHandler(n);a&&a(this,{index:b})}a.add_visibleChanged=function(a){this.get_events().addHandler(o,a);this.composeEvents()};a.remove_visibleChanged=function(a){this.get_events().removeHandler(o,a);this.composeEvents()};function D(b){var a=this.get_events().getHandler(o);a&&a(this,{index:b})}a.add_zindexChanged=function(a){this.get_events().addHandler(p,a);this.composeEvents()};a.remove_zindexChanged=function(a){this.get_events().removeHandler(p,a);this.composeEvents()};function G(b){var a=this.get_events().getHandler(p);a&&a(this,{index:b})}})(Artem.Google.MarkersBehavior.prototype);(function(b){function a(f,c,a){var b=a.latLng||c.markers[a.index].getPosition(),d=c.name,e={index:a.index,name:f,position:{lat:b.lat(),lng:b.lng()}};__doPostBack(d,Sys.Serialization.JavaScriptSerializer.serialize(e))}b.raiseServerAnimationChanged=function(b,c){a("animationChanged",b,c)};b.raiseServerClick=function(b,c){a("click",b,c)};b.raiseServerClickableChanged=function(b,c){a("clickableChanged",b,c)};b.raiseServerCursorChanged=function(b,c){a("cursorChanged",b,c)};b.raiseServerDoubleClick=function(b,c){a("doubleClick",b,c)};b.raiseServerDrag=function(b,c){a("drag",b,c)};b.raiseServerDragEnd=function(b,c){a("dragEnd",b,c)};b.raiseServerDragStart=function(b,c){a("dragStart",b,c)};b.raiseServerFlatChanged=function(b,c){a("flatChanged",b,c)};b.raiseServerIconChanged=function(b,c){a("iconChanged",b,c)};b.raiseServerMouseDown=function(b,c){a("mouseDown",b,c)};b.raiseServerMouseOut=function(b,c){a("mouseOut",b,c)};b.raiseServerMouseOver=function(b,c){a("mouseOver",b,c)};b.raiseServerMouseUp=function(b,c){a("mouseUp",b,c)};b.raiseServerPositionChanged=function(b,c){a("positionChanged",b,c)};b.raiseServerRightClick=function(b,c){a("rightClick",b,c)};b.raiseServerShadowChanged=function(b,c){a("shadowChanged",b,c)};b.raiseServerShapeChanged=function(b,c){a("shapeChanged",b,c)};b.raiseServerTitleChanged=function(b,c){a("titleChanged",b,c)};b.raiseServerVisibleChanged=function(b,c){a("visibleChanged",b,c)};b.raiseServerZIndexChanged=function(b,c){a("zindexChanged",b,c)}})(Artem.Google.MarkersBehavior);Artem.Google.MarkersBehavior.registerClass("Artem.Google.MarkersBehavior",Sys.UI.Behavior)