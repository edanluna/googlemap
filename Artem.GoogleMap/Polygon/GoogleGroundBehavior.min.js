Type.registerNamespace("Artem.Google");Artem.Google.GroundBehavior=function(a){Artem.Google.GroundBehavior.initializeBase(this,[a])};Artem.Google.GroundBehavior.prototype={initialize:function(){Artem.Google.GroundBehavior.callBaseMethod(this,"initialize");Artem.Worker.queue(Function.createDelegate(this,this._attach))},dispose:function(){this._detach();Artem.Google.GroundBehavior.callBaseMethod(this,"dispose")}};Artem.Google.GroundBehavior.registerClass("Artem.Google.GroundBehavior",Sys.UI.Behavior);(function(a){a.map=null;a.ground=null;var e;a.get_name=function(){return e};a.set_name=function(a){e=a};var c;a.get_bounds=function(){return c};a.set_bounds=function(a){c=a};var b;a.get_clickable=function(){return b};a.set_clickable=function(a){b=a};var d;a.get_url=function(){return d};a.set_url=function(a){d=a};a._attach=function(){var a=$find(this.get_element().id);a&&a.add_mapLoaded(Function.createDelegate(this,this.create))};a._detach=function(){this.ground&&google.maps.event.clearInstanceListeners(this.ground)};a.create=function(){var a=this,e=$find(a.get_element().id);if(e)a.map=e.map;a.ground=new google.maps.GroundOverlay(d,Artem.Google.Convert.toLatLngBounds(c),{clickable:b,map:a.map});a.composeEvents()};a.getBounds=function(){return this.ground.getBounds()};a.getMap=function(){return this.ground.getMap()};a.getUrl=function(){return this.ground.getUrl()};a.getMap=function(a){return this.ground.setMap(a)}})(Artem.Google.GroundBehavior.prototype);(function(b){var a="click",c={click:d};b.delegates={click:null};b.listeners={click:null};b.composeEvents=function(){var a=this;if(a.ground){var d;for(var b in c){d=a.get_events().getHandler(b);if(d){if(!a.listeners[b]){if(!a.delegates[b])a.delegates[b]=Function.createDelegate(a,c[b]);a.listeners[b]=google.maps.event.addListener(a.ground,b,a.delegates[b])}}else a.listeners[b]&&google.maps.event.removeListener(a.listeners[b])}}};b.add_click=function(b){this.get_events().addHandler(a,b);this.composeEvents()};b.remove_click=function(b){this.get_events().removeHandler(a,b);this.composeEvents()};function d(c){var b=this.get_events().getHandler(a);b&&b(this,c)}})(Artem.Google.GroundBehavior.prototype);(function(b){function a(a,b){__doPostBack(a,Sys.Serialization.JavaScriptSerializer.serialize(b))}b.raiseServerClick=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"click"})}})(Artem.Google.GroundBehavior)