Type.registerNamespace("Artem.Google");Artem.Google.DirectionsBehavior=function(a){Artem.Google.DirectionsBehavior.initializeBase(this,[a])};Artem.Google.DirectionsBehavior.prototype={initialize:function(){Artem.Google.DirectionsBehavior.callBaseMethod(this,"initialize");this.load()},dispose:function(){this.unload();Artem.Google.DirectionsBehavior.callBaseMethod(this,"dispose")}};(function(a){var c=false,d;a.get_map=function(){return d};var A;a.get_name=function(){return A};a.set_name=function(a){A=a};var b;a.get_renderer=function(){return b};var t;a.get_servise=function(){return t};var l=c;a.get_avoidHighways=function(){return l};a.set_avoidHighways=function(a){l=a};var o=c;a.get_avoidTolls=function(){return o};a.set_avoidTolls=function(a){o=a};var n;a.get_destination=function(){return n};a.set_destination=function(a){n=a};var h=c;a.get_optimizeWaypoints=function(){return h};a.set_optimizeWaypoints=function(a){h=a};var u;a.get_origin=function(){return u};a.set_origin=function(a){u=a};var e=c;a.get_provideRouteAlternatives=function(){return e};a.set_provideRouteAlternatives=function(a){e=a};var v;a.get_region=function(){return v};a.set_region=function(a){v=a};var p;a.get_travelMode=function(){return p};a.set_travelMode=function(a){p=a};var q;a.get_unitSystem=function(){return q};a.set_unitSystem=function(a){q=a};var r;a.get_waypoints=function(){return r};a.set_waypoints=function(a){r=a};var z;a.get_draggable=function(){return z};a.set_draggable=function(a){z=a};var x;a.get_hideRouteList=function(){return x};a.set_hideRouteList=function(a){x=a};var m;a.get_markerOptions=function(){return m};a.set_markerOptions=function(a){m=a};var s;a.get_panelId=function(){return s};a.set_panelId=function(a){s=a};var j;a.get_polylineOptions=function(){return j};a.set_polylineOptions=function(a){j=a};var w;a.get_preserveViewport=function(){return w};a.set_preserveViewport=function(a){w=a};var y;a.get_routeIndex=function(){return y};a.set_routeIndex=function(a){y=a};var f;a.get_suppressBicyclingLayer=function(){return f};a.set_suppressBicyclingLayer=function(a){f=a};var g;a.get_suppressInfoWindows=function(){return g};a.set_suppressInfoWindows=function(a){g=a};var k;a.get_suppressMarkers=function(){return k};a.set_suppressMarkers=function(a){k=a};var i;a.get_suppressPolylines=function(){return i};a.set_suppressPolylines=function(a){i=a};function C(a){Artem.Google.Log.error("Directions routing failed with status: "+a)}function B(l,e){if(e==google.maps.DirectionsStatus.OK){var h=c;if(h=!b){var a={draggable:z,hideRouteList:x,map:d.get_gmap(),preserveViewport:w,routeIndex:y};if(m)a.markerOptions=m;if(s)a.panel=document.getElementById(s);if(j)a.polylineOptions=j;if(f)a.suppressBicyclingLayer=f;if(g)a.suppressInfoWindows=g;if(k)a.suppressMarkers=k;if(i)a.suppressPolylines=i;b=new google.maps.DirectionsRenderer(a)}b.setDirections(l);h&&this.registerEvents(b,null)}else C(e)}a.load=function(a){if(!d)d=$find(this.get_element().id);if(!t)t=new google.maps.DirectionsService;if(!a){a={destination:n,origin:u,travelMode:p==0?google.maps.TravelMode.DRIVING:p==1?google.maps.TravelMode.WALKING:google.maps.TravelMode.BICYCLING};if(l)a.avoidHighways=l;if(o)a.avoidTolls=o;if(h)a.optimizeWaypoints=h;if(e)a.provideRouteAlternatives=e;if(v)a.region=v;if(q)a.unitSystem=q;if(r)a.waypoints=r}if(a.origin&&a.destination)t.route(a,Function.createDelegate(this,B));else{!u&&Artem.Google.Log.warn("GoogleDirections: origin value is missing!");!n&&Artem.Google.Log.warn("GoogleDirections: destination value is missing!")}};a.unload=function(){b&&google.maps.event.clearInstanceListeners(b)};a.getDirections=function(){return b.getDirections()};a.getMap=function(){return b.getMap()};a.getPanel=function(){return b.getPanel()};a.getRouteIndex=function(){return b.getRouteIndex()};a.setDirections=function(a){b.setDirections(a)};a.setMap=function(a){b.setMap(a)};a.setOptions=function(){b.setOptions(d)};a.setPanel=function(){b.setPanel(d)};a.setRouteIndex=function(a){b.setRouteIndex(a)}})(Artem.Google.DirectionsBehavior.prototype);(function(c){var a="changed",b;c.registerEvents=function(c,e){if(!b){c=c||this.get_renderer();if(c){e=e||this.get_events().getHandler(a);if(e)b=google.maps.event.addListener(c,"directions_changed",Function.createDelegate(this,d))}}};c.add_changed=function(b){this.get_events().addHandler(a,b);this.registerEvents(null,b)};c.remove_changed=function(c){this.get_events().removeHandler(a,c);if(b){var d=this.get_events().getHandler(a);!d&&google.maps.event.removeListener(b)}};function d(c){var b=this.get_events().getHandler(a);b&&b(this,c)}})(Artem.Google.DirectionsBehavior.prototype);Artem.Google.DirectionsBehavior.raiseServerChanged=function(e){var c=e.getDirections().routes,f={name:"change"};if(c&&c.length>0){var d=c[0].legs;if(d&&d.length){var a=d[0];delete a.via_waypoint;delete a.via_waypoints;a.end_location={Latitude:a.end_location.Ma,Longitude:a.end_location.Na};a.start_location={Latitude:a.start_location.Ma,Longitude:a.start_location.Na};for(var b=0;b<a.steps.length;b++){delete a.steps[b].encoded_lat_lngs;delete a.steps[b].end_point;delete a.steps[b].lat_lngs;delete a.steps[b].path;delete a.steps[b].polyline;delete a.steps[b].start_point;delete a.steps[b].travel_mode;a.steps[b].end_location={Latitude:a.steps[b].end_location.Ma,Longitude:a.steps[b].end_location.Na};a.steps[b].start_location={Latitude:a.steps[b].start_location.Ma,Longitude:a.steps[b].start_location.Na}}f.route=a}}__doPostBack(e.get_name(),Sys.Serialization.JavaScriptSerializer.serialize(f))};Artem.Google.DirectionsBehavior.registerClass("Artem.Google.DirectionsBehavior",Sys.UI.Behavior)