Type.registerNamespace("Artem.Google");Artem.Google.Map=function(a){Artem.Google.Map.initializeBase(this,[a])};Artem.Google.Map.prototype={initialize:function(){Artem.Google.Map.callBaseMethod(this,"initialize");this.create()},dispose:function(){this.detachEvents();Artem.Google.Map.callBaseMethod(this,"dispose")}};Artem.Google.Map.registerClass("Artem.Google.Map",Sys.UI.Control);(function(a){var b;a.get_map=function(){return b};var G;a.get_address=function(){return G};a.set_address=function(a){G=a};var w;a.get_backgroundColor=function(){return w};a.set_backgroundColor=function(a){w=a};var e;a.get_center=function(){return e};a.set_center=function(a){e=a};var x;a.get_defaultAddress=function(){return x};a.set_defaultAddress=function(a){x=a};var v;a.get_disableDefaultUI=function(){return v};a.set_disableDefaultUI=function(a){v=a};var q;a.get_disableDoubleClickZoom=function(){return q};a.set_disableDoubleClickZoom=function(a){q=a};var F;a.get_draggable=function(){return F};a.set_draggable=function(a){F=a};var c;a.get_draggableCursor=function(){return c};a.set_draggableCursor=function(a){c=a};var d;a.get_draggingCursor=function(){return d};a.set_draggingCursor=function(a){d=a};var r;a.get_enableReverseGeocoding=function(){return r};a.set_enableReverseGeocoding=function(a){r=a};var m;a.get_heading=function(){return m};a.set_heading=function(a){m=a};var t;a.get_keyboardShortcuts=function(){return t};a.set_keyboardShortcuts=function(a){t=a};var l;a.get_language=function(){return l};a.set_language=function(a){l=a};var H;a.get_mapType=function(){return H};a.set_mapType=function(a){H=a};var y;a.get_mapTypeControl=function(){return y};a.set_mapTypeControl=function(a){y=a};var g;a.get_mapTypeControlOptions=function(){return g};a.set_mapTypeControlOptions=function(a){g=a};var n;a.get_maxZoom=function(){return n};a.set_maxZoom=function(a){n=a};var o;a.get_minZoom=function(){return o};a.set_minZoom=function(a){o=a};var L;a.get_name=function(){return L};a.set_name=function(a){L=a};var I;a.get_noClear=function(){return I};a.set_noClear=function(a){I=a};var s;a.get_overviewMapControl=function(){return s};a.set_overviewMapControl=function(a){s=a};var f;a.get_overviewMapControlOptions=function(){return f};a.set_overviewMapControlOptions=function(a){f=a};var E;a.get_panControl=function(){return E};a.set_panControl=function(a){E=a};var k;a.get_panControlOptions=function(){return k};a.set_panControlOptions=function(a){k=a};var p;a.get_region=function(){return p};a.set_region=function(a){p=a};var z;a.get_rotateControl=function(){return z};a.set_rotateControl=function(a){z=a};var h;a.get_rotateControlOptions=function(){return h};a.set_rotateControlOptions=function(a){h=a};var A;a.get_scaleControl=function(){return A};a.set_scaleControl=function(a){A=a};var i;a.get_scaleControlOptions=function(){return i};a.set_scaleControlOptions=function(a){i=a};var B;a.get_scrollwheel=function(){return B};a.set_scrollwheel=function(a){B=a};var C;a.get_showTraffic=function(){return C};a.set_showTraffic=function(a){C=a};var u;a.get_streetViewControl=function(){return u};a.set_streetViewControl=function(a){u=a};var J;a.get_tilt=function(){return J};a.set_tilt=function(a){J=a};var K;a.get_zoom=function(){return K};a.set_zoom=function(a){K=a};var D;a.get_zoomControl=function(){return D};a.set_zoomControl=function(a){D=a};var j;a.get_zoomControlOptions=function(){return j};a.set_zoomControlOptions=function(a){j=a};a.create=function(L){var M=this;if(!L){if(e)L=Artem.Google.Convert.toLatLng(e)}else e=L;if(L){var a={center:L,mapTypeId:Artem.Google.Convert.toMapTypeId(H),zoom:K,backgroundColor:w,disableDefaultUI:v,disableDoubleClickZoom:q,draggable:F,draggableCursor:c,draggingCursor:d,keyboardShortcuts:t,mapTypeControl:y,noClear:I,overviewMapControl:s,panControl:E,rotateControl:z,scaleControl:A,scrollwheel:B,streetViewControl:u,tilt:J,zoomControl:D};if(c)a.draggableCursor=c;if(d)a.draggingCursor=d;if(m)a.heading=m;if(g)a.mapTypeControlOptions=g;if(n)a.maxZoom=n;if(o)a.minZoom=o;if(f)a.overviewMapControlOptions=f;if(k)a.panControlOptions=k;if(h)a.rotateControlOptions=h;if(i)a.scaleControlOptions=i;if(j)a.zoomControlOptions=j;b=new google.maps.Map(M.get_element(),a);M.composeEvents();if(C){var N=new google.maps.TrafficLayer;N.setMap(b)}if(r){var a={latlng:L,language:l,region:p};Artem.Google.Geocoding.getAddress(a,function(a){a=a})}}else{var a={address:G,defaultAddress:x,language:l,region:p};Artem.Google.Geocoding.getLocation(a,Function.createDelegate(M,M.create))}};a.fitBounds=function(a){b.fitBounds(a)};a.getBounds=function(){return b.getBounds()};a.getCenter=function(){return b.getCenter()};a.getDiv=function(){return b.getDiv()};a.getHeading=function(){return b.getHeading()};a.getMapTypeId=function(){return b.getMapTypeId()};a.getProjection=function(){return b.getProjection()};a.getStreetView=function(){return b.getStreetView()};a.getTilt=function(){return b.getTilt()};a.getZoom=function(){return b.getZoom()};a.panBy=function(a,c){b.panBy(a,c)};a.panTo=function(a){b.panTo(a)};a.panToBounds=function(a){b.panToBounds(a)};a.setCenter=function(a){b.setCenter(a)};a.setHeading=function(a){b.setHeading(a)};a.setMapTypeId=function(a){b.setMapTypeId(a)};a.setOptions=function(a){b.setOptions(a)};a.setStreetView=function(a){b.setStreetView(a)};a.setTilt=function(a){b.setTilt(a)};a.setZoom=function(a){b.setZoom(a)}})(Artem.Google.Map.prototype);(function(a){var m="zoom_changed",l="tilt_changed",k="tilesloaded",j="rightclick",i="resize",h="projection_changed",g="mouseover",f="mouseout",e="mousemove",d="maptypeid_changed",c="idle",u="heading_changed",t="dragstart",s="dragend",r="drag",q="dblclick",p="click",o="center_changed",n="bounds_changed",b=null,w={bounds_changed:b,center_changed:b,click:b,dblclick:b,drag:b,dragend:b,dragstart:b,heading_changed:b,idle:b,maptypeid_changed:b,mousemove:b,mouseout:b,mouseover:b,projection_changed:b,resize:b,rightclick:b,tilesloaded:b,tilt_changed:b,zoom_changed:b},x={bounds_changed:B,center_changed:C,click:O,dblclick:D,drag:P,dragend:M,dragstart:I,heading_changed:z,idle:Q,maptypeid_changed:A,mousemove:J,mouseout:L,mouseover:K,projection_changed:y,resize:N,rightclick:H,tilesloaded:E,tilt_changed:F,zoom_changed:G},v={bounds_changed:b,center_changed:b,click:b,dblclick:b,drag:b,dragend:b,dragstart:b,heading_changed:b,idle:b,maptypeid_changed:b,mousemove:b,mouseout:b,mouseover:b,projection_changed:b,resize:b,rightclick:b,tilesloaded:b,tilt_changed:b,zoom_changed:b};a.composeEvents=function(){var c=this.get_map();if(c){var b;for(var a in x){b=this.get_events().getHandler(a);if(b){if(!v[a]){if(!w[a])w[a]=Function.createDelegate(this,x[a]);v[a]=google.maps.event.addListener(c,a,w[a])}}else v[a]&&google.maps.event.removeListener(v[a])}}};a.detachEvents=function(){google.maps.event.clearInstanceListeners(this.get_map())};a.add_boundsChanged=function(a){this.get_events().addHandler(n,a);this.composeEvents()};a.remove_boundsChanged=function(a){this.get_events().removeHandler(n,a);this.composeEvents()};function B(b){var a=this.get_events().getHandler(n);a&&a(this,b)}a.add_centerChanged=function(a){this.get_events().addHandler(o,a);this.composeEvents()};a.remove_centerChanged=function(a){this.get_events().removeHandler(o,a);this.composeEvents()};function C(b){var a=this.get_events().getHandler(o);a&&a(this,b)}a.add_click=function(a){this.get_events().addHandler(p,a);this.composeEvents()};a.remove_click=function(a){this.get_events().removeHandler(p,a);this.composeEvents()};function O(b){var a=this.get_events().getHandler(p);a&&a(this,b)}a.add_doubleClick=function(a){this.get_events().addHandler(q,a);this.composeEvents()};a.remove_doubleClick=function(a){this.get_events().removeHandler(q,a);this.composeEvents()};function D(b){var a=this.get_events().getHandler(q);a&&a(this,b)}a.add_drag=function(a){this.get_events().addHandler(r,a);this.composeEvents()};a.remove_drag=function(a){this.get_events().removeHandler(r,a);this.composeEvents()};function P(b){var a=this.get_events().getHandler(r);a&&a(this,b)}a.add_dragEnd=function(a){this.get_events().addHandler(s,a);this.composeEvents()};a.remove_dragEnd=function(a){this.get_events().removeHandler(s,a);this.composeEvents()};function M(b){var a=this.get_events().getHandler(s);a&&a(this,b)}a.add_dragStart=function(a){this.get_events().addHandler(t,a);this.composeEvents()};a.remove_dragStart=function(a){this.get_events().removeHandler(t,a);this.composeEvents()};function I(b){var a=this.get_events().getHandler(t);a&&a(this,b)}a.add_headingChanged=function(a){this.get_events().addHandler(u,a);this.composeEvents()};a.remove_headingChanged=function(a){this.get_events().removeHandler(u,a);this.composeEvents()};function z(b){var a=this.get_events().getHandler(u);a&&a(this,b)}a.add_idle=function(a){this.get_events().addHandler(c,a);this.composeEvents()};a.remove_idle=function(a){this.get_events().removeHandler(c,a);this.composeEvents()};function Q(b){var a=this.get_events().getHandler(c);a&&a(this,b)}a.add_mapTypeChanged=function(a){this.get_events().addHandler(d,a);this.composeEvents()};a.remove_mapTypeChanged=function(a){this.get_events().removeHandler(d,a);this.composeEvents()};function A(b){var a=this.get_events().getHandler(d);a&&a(this,b)}a.add_mouseMove=function(a){this.get_events().addHandler(e,a);this.composeEvents()};a.remove_mouseMove=function(a){this.get_events().removeHandler(e,a);this.composeEvents()};function J(b){var a=this.get_events().getHandler(e);a&&a(this,b)}a.add_mouseOut=function(a){this.get_events().addHandler(f,a);this.composeEvents()};a.remove_mouseOut=function(a){this.get_events().removeHandler(f,a);this.composeEvents()};function L(b){var a=this.get_events().getHandler(f);a&&a(this,b)}a.add_mouseOver=function(a){this.get_events().addHandler(g,a);this.composeEvents()};a.remove_mouseOver=function(a){this.get_events().removeHandler(g,a);this.composeEvents()};function K(b){var a=this.get_events().getHandler(g);a&&a(this,b)}a.add_projectionChanged=function(a){this.get_events().addHandler(h,a);this.composeEvents()};a.remove_projectionChanged=function(a){this.get_events().removeHandler(h,a);this.composeEvents()};function y(b){var a=this.get_events().getHandler(h);a&&a(this,b)}a.add_resize=function(a){this.get_events().addHandler(i,a);this.composeEvents()};a.remove_resize=function(a){this.get_events().removeHandler(i,a);this.composeEvents()};function N(b){var a=this.get_events().getHandler(i);a&&a(this,b)}a.add_rightClick=function(a){this.get_events().addHandler(j,a);this.composeEvents()};a.remove_rightClick=function(a){this.get_events().removeHandler(j,a);this.composeEvents()};function H(b){var a=this.get_events().getHandler(j);a&&a(this,b)}a.add_tilesLoaded=function(a){this.get_events().addHandler(k,a);this.composeEvents()};a.remove_tilesLoaded=function(a){this.get_events().removeHandler(k,a);this.composeEvents()};function E(b){var a=this.get_events().getHandler(k);a&&a(this,b)}a.add_tiltChanged=function(a){this.get_events().addHandler(l,a);this.composeEvents()};a.remove_tiltChanged=function(a){this.get_events().removeHandler(l,a);this.composeEvents()};function F(b){var a=this.get_events().getHandler(l);a&&a(this,b)}a.add_zoomChanged=function(a){this.get_events().addHandler(m,a);this.composeEvents()};a.remove_zoomChanged=function(a){this.get_events().removeHandler(m,a);this.composeEvents()};function G(b){var a=this.get_events().getHandler(m);a&&a(this,b)}})(Artem.Google.Map.prototype);(function(b){function c(d,e){var a=d.get_map(),b=a.getBounds(),c=a.getCenter();return{name:e,bounds:{sw:b.getSouthWest(),ne:b.getNorthEast()},center:{lat:c.lat(),lng:c.lng()},mapType:a.getMapTypeId(),zoom:a.getZoom()}}function a(a,b){__doPostBack(a,Sys.Serialization.JavaScriptSerializer.serialize(b))}b.raiseServerBoundsChanged=function(b){a(b.get_name(),c(b,"boundsChanged"))};b.raiseServerCenterChanged=function(b){a(b.get_name(),c(b,"centerChanged"))};b.raiseServerClick=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"click"})};b.raiseServerDoubleClick=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"doubleClick"})};b.raiseServerDrag=function(b){a(b.get_name(),c(b,"drag"))};b.raiseServerDragEnd=function(b){a(b.get_name(),c(b,"dragEnd"))};b.raiseServerDragStart=function(b){a(b.get_name(),c(b,"dragStart"))};b.raiseServerHeadingChanged=function(b){a(b.get_name(),{name:"headingChanged"})};b.raiseServerIdle=function(b){a(b.get_name(),{name:"idle"})};b.raiseServerMapTypeChanged=function(b){a(b.get_name(),c(b,"mapTypeChanged"))};b.raiseServerMouseMove=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"mouseMove"})};b.raiseServerMouseOut=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"mouseOut"})};b.raiseServerMouseOver=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"mouseOver"})};b.raiseServerProjectionChanged=function(b){a(b.get_name(),{name:"projectionChanged"})};b.raiseServerResize=function(b){a(b.get_name(),c(b,"resize"))};b.raiseServerRightClick=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"rightClick"})};b.raiseServerTilesLoaded=function(b){a(b.get_name(),{name:"tilesLoaded"})};b.raiseServerTiltChanged=function(b){a(b.get_name(),{name:"tiltChanged"})};b.raiseServerZoomChanged=function(b){a(b.get_name(),c(b,"zoomChanged"))}})(Artem.Google.Map);Artem.Google.Convert=function(){function a(a){return a?new google.maps.LatLng(a.lat,a.lng):null}function c(a){var c=null;if(a){c=[];for(var b=0;b<a.length;b++)c.push(new google.maps.LatLng(a[b].lat,a[b].lng))}return c}function b(b){return b?new google.maps.LatLngBounds(a(b.sw),a(b.ne)):null}function d(a){switch(a){case 0:return google.maps.MapTypeId.HYBRID;case 1:return google.maps.MapTypeId.ROADMAP;case 2:return google.maps.MapTypeId.SATELLITE;case 3:return google.maps.MapTypeId.TERRAIN;default:return google.maps.MapTypeId.HYBRID}}return{toLatLng:a,toLatLngArray:c,toLatLngBounds:b,toMapTypeId:d}}();Artem.Google.Geocoding=function(){var a;function d(b,c){var d={lanlng:b.lanlng,language:b.language,region:b.region};a=a||new google.maps.Geocoder;a.geocode(d,function(a,d){if(d==google.maps.GeocoderStatus.OK)try{var b;if(a&&a.length)b=a[0].formatted_address;c(b)}catch(e){Artem.Google.Log.error(e)}else Artem.Google.Log.error("Reverse location geocoding failed with status: "+d)})}function c(c,d){var e={address:c.address,language:c.language,region:c.region};a=a||new google.maps.Geocoder;a.geocode(e,function(a,f){if(f==google.maps.GeocoderStatus.OK)try{var e;if(a&&a.length)e=a[0].geometry.location;d(e)}catch(g){Artem.Google.Log.error(g)}else b(f,c,d)})}function b(c,b,d){if(b.defaultAddress){Artem.Google.Log.warn(c+" ... applying default address.");var e={address:b.defaultAddress,language:b.language,region:b.region};a=a||new google.maps.Geocoder;a.geocode(e,function(a,c){if(c==google.maps.GeocoderStatus.OK){var b;if(a&&a.length)b=a[0].geometry.location;d(b)}else console&&console.error&&console.error("DefaultAddress geocoding failed with status: "+c)})}else Artem.Google.Log.error("Address geocoding failed with status: "+c+"\nDefaultAddress is not set and map was left empty!")}return{getAddress:d,getLocation:c}}();Artem.Google.Log=function(){function d(a){console&&console.dir&&console.dir(a)}function a(a){if(console&&console.error)console.error(a);else throw a;}function b(a){console&&console.info&&console.info(a)}function c(a){console&&console.warn&&console.warn(a)}return{dir:d,error:a,info:b,warn:c}}()