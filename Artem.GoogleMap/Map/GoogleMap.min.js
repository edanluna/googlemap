Type.registerNamespace("Artem.Google");Artem.Google.Map=function(a){Artem.Google.Map.initializeBase(this,[a])};Artem.Google.Map.prototype={initialize:function(){Artem.Google.Map.callBaseMethod(this,"initialize");this.create()},dispose:function(){this.detachEvents();Artem.Google.Map.callBaseMethod(this,"dispose")}};Artem.Google.Map.registerClass("Artem.Google.Map",Sys.UI.Control);(function(a){a.map=null;a.get_bounds=function(){return this.bounds};a.set_bounds=function(a){this.bounds=a};a.get_address=function(){return this.address};a.set_address=function(a){this.address=a};a.get_backgroundColor=function(){return this.backgroundColor};a.set_backgroundColor=function(a){this.backgroundColor=a};a.get_center=function(){return this.center};a.set_center=function(a){this.center=a};a.get_defaultAddress=function(){return this.defaultAddress};a.set_defaultAddress=function(a){this.defaultAddress=a};a.get_disableDefaultUI=function(){return this.disableDefaultUI};a.set_disableDefaultUI=function(a){this.disableDefaultUI=a};a.get_disableDoubleClickZoom=function(){return this.disableDoubleClickZoom};a.set_disableDoubleClickZoom=function(a){this.disableDoubleClickZoom=a};a.get_draggable=function(){return this.draggable};a.set_draggable=function(a){this.draggable=a};a.get_draggableCursor=function(){return this.draggableCursor};a.set_draggableCursor=function(a){this.draggableCursor=a};a.get_draggingCursor=function(){return this.draggingCursor};a.set_draggingCursor=function(a){this.draggingCursor=a};a.get_enableReverseGeocoding=function(){return this.enableReverseGeocoding};a.set_enableReverseGeocoding=function(a){this.enableReverseGeocoding=a};a.get_heading=function(){return this.heading};a.set_heading=function(a){this.heading=a};a.get_keyboardShortcuts=function(){return this.keyboardShortcuts};a.set_keyboardShortcuts=function(a){this.keyboardShortcuts=a};a.get_language=function(){return this.language};a.set_language=function(a){this.language=a};a.get_mapType=function(){return this.mapType};a.set_mapType=function(a){this.mapType=a};a.get_mapTypeControl=function(){return this.mapTypeControl};a.set_mapTypeControl=function(a){this.mapTypeControl=a};a.get_mapTypeControlOptions=function(){return this.mapTypeControlOptions};a.set_mapTypeControlOptions=function(a){this.mapTypeControlOptions=a};a.get_maxZoom=function(){return this.maxZoom};a.set_maxZoom=function(a){this.maxZoom=a};a.get_minZoom=function(){return this.minZoom};a.set_minZoom=function(a){this.minZoom=a};a.get_name=function(){return this.name};a.set_name=function(a){this.name=a};a.get_noClear=function(){return this.noClear};a.set_noClear=function(a){this.noClear=a};a.get_overviewMapControl=function(){return this.overviewMapControl};a.set_overviewMapControl=function(a){this.overviewMapControl=a};a.get_overviewMapControlOptions=function(){return this.overviewMapControlOptions};a.set_overviewMapControlOptions=function(a){this.overviewMapControlOptions=a};a.get_panControl=function(){return this.panControl};a.set_panControl=function(a){this.panControl=a};a.get_panControlOptions=function(){return this.panControlOptions};a.set_panControlOptions=function(a){this.panControlOptions=a};a.get_region=function(){return this.region};a.set_region=function(a){this.region=a};a.get_rotateControl=function(){return this.rotateControl};a.set_rotateControl=function(a){this.rotateControl=a};a.get_rotateControlOptions=function(){return this.rotateControlOptions};a.set_rotateControlOptions=function(a){this.rotateControlOptions=a};a.get_scaleControl=function(){return this.scaleControl};a.set_scaleControl=function(a){this.scaleControl=a};a.get_scaleControlOptions=function(){return this.scaleControlOptions};a.set_scaleControlOptions=function(a){this.scaleControlOptions=a};a.get_scrollwheel=function(){return this.scrollwheel};a.set_scrollwheel=function(a){this.scrollwheel=a};a.get_shortID=function(){return this.shortID};a.set_shortID=function(a){this.shortID=a};a.get_showTraffic=function(){return this.showTraffic};a.set_showTraffic=function(a){this.showTraffic=a};a.get_streetViewControl=function(){return this.streetViewControl};a.set_streetViewControl=function(a){this.streetViewControl=a};a.get_tilt=function(){return this.tilt};a.set_tilt=function(a){this.tilt=a};a.get_zoom=function(){return this.zoom};a.set_zoom=function(a){this.zoom=a};a.get_zoomControl=function(){return this.zoomControl};a.set_zoomControl=function(a){this.zoomControl=a};a.get_zoomControlOptions=function(){return this.zoomControlOptions};a.set_zoomControlOptions=function(a){this.zoomControlOptions=a};a.create=function(b){if(!b){if(this.center)b=Artem.Google.Convert.toLatLng(this.center)}else this.center=b;if(b||this.bounds){var a={center:b,mapTypeId:Artem.Google.Convert.toMapTypeId(this.mapType),zoom:this.zoom,backgroundColor:this.backgroundColor,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,draggable:this.draggable,keyboardShortcuts:this.keyboardShortcuts,mapTypeControl:this.mapTypeControl,noClear:this.noClear,overviewMapControl:this.overviewMapControl,panControl:this.panControl,rotateControl:this.rotateControl,scaleControl:this.scaleControl,scrollwheel:this.scrollwheel,streetViewControl:this.streetViewControl,tilt:this.tilt,zoomControl:this.zoomControl};if(this.draggableCursor)a.draggableCursor=this.draggableCursor;if(this.draggingCursor)a.draggingCursor=this.draggingCursor;if(this.heading)a.heading=this.heading;if(this.mapTypeControlOptions)a.mapTypeControlOptions=this.mapTypeControlOptions;if(this.maxZoom)a.maxZoom=this.maxZoom;if(this.minZoom)a.minZoom=this.minZoom;if(this.overviewMapControlOptions)a.overviewMapControlOptions=this.overviewMapControlOptions;if(this.panControlOptions)a.panControlOptions=this.panControlOptions;if(this.rotateControlOptions)a.rotateControlOptions=this.rotateControlOptions;if(this.scaleControlOptions)a.scaleControlOptions=this.scaleControlOptions;if(this.zoomControlOptions)a.zoomControlOptions=this.zoomControlOptions;this.map=new google.maps.Map(this.get_element(),a);this.composeEvents();this.mapLoaded=true;this.raiseMapLoaded();this.bounds&&this.fitBounds(new google.maps.LatLngBounds(new google.maps.LatLng(this.bounds.sw.lat,this.bounds.sw.lng),new google.maps.LatLng(this.bounds.ne.lat,this.bounds.ne.lng)));if(this.showTraffic){var c=new google.maps.TrafficLayer;c.setMap(this.map)}if(this.enableReverseGeocoding){var a={latlng:b,language:this.language,region:this.region};Artem.Google.Geocoding.getAddress(a,Function.createDelegate(this,function(a){this.address=a}))}try{if(!window.maps)window.maps={};eval("window.maps."+this.get_shortID()+" = this;")}catch(d){}}else{var a={address:this.address,defaultAddress:this.defaultAddress,language:this.language,region:this.region};Artem.Google.Geocoding.getLocation(a,Function.createDelegate(this,this.create))}};a.fitBounds=function(a){this.map.fitBounds(a)};a.getBounds=function(){return this.map.getBounds()};a.getCenter=function(){return this.map.getCenter()};a.getDiv=function(){return this.map.getDiv()};a.getHeading=function(){return this.map.getHeading()};a.getMapTypeId=function(){return this.map.getMapTypeId()};a.getProjection=function(){return this.map.getProjection()};a.getStreetView=function(){return this.map.getStreetView()};a.getTilt=function(){return this.map.getTilt()};a.getZoom=function(){return this.map.getZoom()};a.panBy=function(a,b){this.map.panBy(a,b)};a.panTo=function(a){this.map.panTo(a)};a.panToBounds=function(a){this.map.panToBounds(a)};a.setCenter=function(a){this.map.setCenter(a)};a.setHeading=function(a){this.map.setHeading(a)};a.setMapTypeId=function(a){this.map.setMapTypeId(a)};a.setOptions=function(a){this.map.setOptions(a)};a.setStreetView=function(a){this.map.setStreetView(a)};a.setTilt=function(a){this.map.setTilt(a)};a.setZoom=function(a){this.map.setZoom(a)}})(Artem.Google.Map.prototype);(function(a){var b={bounds_changed:f,center_changed:g,click:s,dblclick:h,drag:t,dragend:q,dragstart:m,heading_changed:d,idle:u,maptypeid_changed:e,mousemove:n,mouseout:p,mouseover:o,projection_changed:c,resize:r,rightclick:l,tilesloaded:i,tilt_changed:j,zoom_changed:k};a.delegates={bounds_changed:null,center_changed:null,click:null,dblclick:null,drag:null,dragend:null,dragstart:null,heading_changed:null,idle:null,maptypeid_changed:null,mousemove:null,mouseout:null,mouseover:null,projection_changed:null,resize:null,rightclick:null,tilesloaded:null,tilt_changed:null,zoom_changed:null};a.listeners={bounds_changed:null,center_changed:null,click:null,dblclick:null,drag:null,dragend:null,dragstart:null,heading_changed:null,idle:null,maptypeid_changed:null,mousemove:null,mouseout:null,mouseover:null,projection_changed:null,resize:null,rightclick:null,tilesloaded:null,tilt_changed:null,zoom_changed:null};a.composeEvents=function(){if(this.map){var c;for(var a in b){c=this.get_events().getHandler(a);if(c){if(!this.listeners[a]){if(!this.delegates[a])this.delegates[a]=Function.createDelegate(this,b[a]);this.listeners[a]=google.maps.event.addListener(this.map,a,this.delegates[a])}}else this.listeners[a]&&google.maps.event.removeListener(this.listeners[a])}}};a.detachEvents=function(){this.map&&google.maps.event.clearInstanceListeners(this.map)};a.add_boundsChanged=function(a){this.get_events().addHandler("bounds_changed",a);this.composeEvents()};a.remove_boundsChanged=function(a){this.get_events().removeHandler("bounds_changed",a);this.composeEvents()};function f(b){var a=this.get_events().getHandler("bounds_changed");a&&a(this,b)}a.add_centerChanged=function(a){this.get_events().addHandler("center_changed",a);this.composeEvents()};a.remove_centerChanged=function(a){this.get_events().removeHandler("center_changed",a);this.composeEvents()};function g(b){var a=this.get_events().getHandler("center_changed");a&&a(this,b)}a.add_click=function(a){this.get_events().addHandler("click",a);this.composeEvents()};a.remove_click=function(a){this.get_events().removeHandler("click",a);this.composeEvents()};function s(b){var a=this.get_events().getHandler("click");a&&a(this,b)}a.add_doubleClick=function(a){this.get_events().addHandler("dblclick",a);this.composeEvents()};a.remove_doubleClick=function(a){this.get_events().removeHandler("dblclick",a);this.composeEvents()};function h(b){var a=this.get_events().getHandler("dblclick");a&&a(this,b)}a.add_drag=function(a){this.get_events().addHandler("drag",a);this.composeEvents()};a.remove_drag=function(a){this.get_events().removeHandler("drag",a);this.composeEvents()};function t(b){var a=this.get_events().getHandler("drag");a&&a(this,b)}a.add_dragEnd=function(a){this.get_events().addHandler("dragend",a);this.composeEvents()};a.remove_dragEnd=function(a){this.get_events().removeHandler("dragend",a);this.composeEvents()};function q(b){var a=this.get_events().getHandler("dragend");a&&a(this,b)}a.add_dragStart=function(a){this.get_events().addHandler("dragstart",a);this.composeEvents()};a.remove_dragStart=function(a){this.get_events().removeHandler("dragstart",a);this.composeEvents()};function m(b){var a=this.get_events().getHandler("dragstart");a&&a(this,b)}a.add_headingChanged=function(a){this.get_events().addHandler("heading_changed",a);this.composeEvents()};a.remove_headingChanged=function(a){this.get_events().removeHandler("heading_changed",a);this.composeEvents()};function d(b){var a=this.get_events().getHandler("heading_changed");a&&a(this,b)}a.add_idle=function(a){this.get_events().addHandler("idle",a);this.composeEvents()};a.remove_idle=function(a){this.get_events().removeHandler("idle",a);this.composeEvents()};function u(b){var a=this.get_events().getHandler("idle");a&&a(this,b)}a.add_mapLoaded=function(a){if(!this.mapLoaded)this.get_events().addHandler("mapLoaded",a);else a(this)};a.remove_mapLoaded=function(a){this.get_events().removeHandler("mapLoaded",a)};a.raiseMapLoaded=function(){var a=this.get_events().getHandler("mapLoaded");a&&a(this)};a.add_mapTypeChanged=function(a){this.get_events().addHandler("maptypeid_changed",a);this.composeEvents()};a.remove_mapTypeChanged=function(a){this.get_events().removeHandler("maptypeid_changed",a);this.composeEvents()};function e(b){var a=this.get_events().getHandler("maptypeid_changed");a&&a(this,b)}a.add_mouseMove=function(a){this.get_events().addHandler("mousemove",a);this.composeEvents()};a.remove_mouseMove=function(a){this.get_events().removeHandler("mousemove",a);this.composeEvents()};function n(b){var a=this.get_events().getHandler("mousemove");a&&a(this,b)}a.add_mouseOut=function(a){this.get_events().addHandler("mouseout",a);this.composeEvents()};a.remove_mouseOut=function(a){this.get_events().removeHandler("mouseout",a);this.composeEvents()};function p(b){var a=this.get_events().getHandler("mouseout");a&&a(this,b)}a.add_mouseOver=function(a){this.get_events().addHandler("mouseover",a);this.composeEvents()};a.remove_mouseOver=function(a){this.get_events().removeHandler("mouseover",a);this.composeEvents()};function o(b){var a=this.get_events().getHandler("mouseover");a&&a(this,b)}a.add_projectionChanged=function(a){this.get_events().addHandler("projection_changed",a);this.composeEvents()};a.remove_projectionChanged=function(a){this.get_events().removeHandler("projection_changed",a);this.composeEvents()};function c(b){var a=this.get_events().getHandler("projection_changed");a&&a(this,b)}a.add_resize=function(a){this.get_events().addHandler("resize",a);this.composeEvents()};a.remove_resize=function(a){this.get_events().removeHandler("resize",a);this.composeEvents()};function r(b){var a=this.get_events().getHandler("resize");a&&a(this,b)}a.add_rightClick=function(a){this.get_events().addHandler("rightclick",a);this.composeEvents()};a.remove_rightClick=function(a){this.get_events().removeHandler("rightclick",a);this.composeEvents()};function l(b){var a=this.get_events().getHandler("rightclick");a&&a(this,b)}a.add_tilesLoaded=function(a){this.get_events().addHandler("tilesloaded",a);this.composeEvents()};a.remove_tilesLoaded=function(a){this.get_events().removeHandler("tilesloaded",a);this.composeEvents()};function i(b){var a=this.get_events().getHandler("tilesloaded");a&&a(this,b)}a.add_tiltChanged=function(a){this.get_events().addHandler("tilt_changed",a);this.composeEvents()};a.remove_tiltChanged=function(a){this.get_events().removeHandler("tilt_changed",a);this.composeEvents()};function j(b){var a=this.get_events().getHandler("tilt_changed");a&&a(this,b)}a.add_zoomChanged=function(a){this.get_events().addHandler("zoom_changed",a);this.composeEvents()};a.remove_zoomChanged=function(a){this.get_events().removeHandler("zoom_changed",a);this.composeEvents()};function k(b){var a=this.get_events().getHandler("zoom_changed");a&&a(this,b)}})(Artem.Google.Map.prototype);(function(b){function c(f,g){var a=f.map,b=a.getBounds(),c=a.getCenter(),e=b.getSouthWest(),d=b.getNorthEast();return{name:g,bounds:{sw:{lat:e.lat(),lng:e.lng()},ne:{lat:d.lat(),lng:d.lng()}},center:{lat:c.lat(),lng:c.lng()},mapType:a.getMapTypeId(),zoom:a.getZoom()}}function a(a,b){__doPostBack(a,Sys.Serialization.JavaScriptSerializer.serialize(b))}b.raiseServerBoundsChanged=function(b){a(b.get_name(),c(b,"boundsChanged"))};b.raiseServerCenterChanged=function(b){a(b.get_name(),c(b,"centerChanged"))};b.raiseServerClick=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"click"})};b.raiseServerDoubleClick=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"doubleClick"})};b.raiseServerDrag=function(b){a(b.get_name(),c(b,"drag"))};b.raiseServerDragEnd=function(b){a(b.get_name(),c(b,"dragEnd"))};b.raiseServerDragStart=function(b){a(b.get_name(),c(b,"dragStart"))};b.raiseServerHeadingChanged=function(b){a(b.get_name(),{name:"headingChanged"})};b.raiseServerIdle=function(b){a(b.get_name(),{name:"idle"})};b.raiseServerMapTypeChanged=function(b){a(b.get_name(),c(b,"mapTypeChanged"))};b.raiseServerMouseMove=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"mouseMove"})};b.raiseServerMouseOut=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"mouseOut"})};b.raiseServerMouseOver=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"mouseOver"})};b.raiseServerProjectionChanged=function(b){a(b.get_name(),{name:"projectionChanged"})};b.raiseServerResize=function(b){a(b.get_name(),c(b,"resize"))};b.raiseServerRightClick=function(c,b){a(c.get_name(),{lat:b.latLng.lat(),lng:b.latLng.lng(),name:"rightClick"})};b.raiseServerTilesLoaded=function(b){a(b.get_name(),{name:"tilesLoaded"})};b.raiseServerTiltChanged=function(b){a(b.get_name(),{name:"tiltChanged"})};b.raiseServerZoomChanged=function(b){a(b.get_name(),c(b,"zoomChanged"))}})(Artem.Google.Map);Artem.Google.Convert=function(){function a(a){return a?new google.maps.LatLng(a.lat,a.lng):null}function c(a){var c=null;if(a){c=[];for(var b=0;b<a.length;b++)c.push(new google.maps.LatLng(a[b].lat,a[b].lng))}return c}function b(b){return b?new google.maps.LatLngBounds(a(b.sw),a(b.ne)):null}function d(a){switch(a){case 0:return google.maps.MapTypeId.HYBRID;case 1:return google.maps.MapTypeId.ROADMAP;case 2:return google.maps.MapTypeId.SATELLITE;case 3:return google.maps.MapTypeId.TERRAIN;default:return google.maps.MapTypeId.HYBRID}}return{toLatLng:a,toLatLngArray:c,toLatLngBounds:b,toMapTypeId:d}}();Artem.Google.Geocoding=function(){var a;function d(b,c){var d={lanlng:b.lanlng,language:b.language,region:b.region};a=a||new google.maps.Geocoder;a.geocode(d,function(a,d){if(d==google.maps.GeocoderStatus.OK)try{var b;if(a&&a.length)b=a[0].formatted_address;c(b)}catch(e){Artem.Google.Log.error(e)}else Artem.Google.Log.error("Reverse location geocoding failed with status: "+d)})}function c(c,d){var e={address:c.address,language:c.language,region:c.region};a=a||new google.maps.Geocoder;a.geocode(e,function(a,f){if(f==google.maps.GeocoderStatus.OK)try{var e;if(a&&a.length)e=a[0].geometry.location;d(e)}catch(g){Artem.Google.Log.error(g)}else b(f,c,d)})}function b(c,b,d){if(b.defaultAddress){Artem.Google.Log.warn(c+" ... applying default address.");var e={address:b.defaultAddress,language:b.language,region:b.region};a=a||new google.maps.Geocoder;a.geocode(e,function(a,c){if(c==google.maps.GeocoderStatus.OK){var b;if(a&&a.length)b=a[0].geometry.location;d(b)}else console&&console.error&&console.error("DefaultAddress geocoding failed with status: "+c)})}else Artem.Google.Log.error("Address geocoding failed with status: "+c+"\nDefaultAddress is not set and map was left empty!")}return{getAddress:d,getLocation:c}}();Artem.Google.Log=function(){function d(a){console&&console.dir&&console.dir(a)}function a(a){if(console&&console.error)console.error(a);else throw a;}function b(a){console&&console.info&&console.info(a)}function c(a){console&&console.warn&&console.warn(a)}return{dir:d,error:a,info:b,warn:c}}();Artem.Worker=function(){var b=[],a=null;function c(){b=[]}function e(c){b.push(c);!a&&setTimeout(d,1)}function f(){if(a){clearTimeout(a);a=null}c()}function d(){var c=b.pop();if(c){c.call();setTimeout(d,1)}else a=null}return{clear:c,queue:e,stop:f}}();Artem.Google.merge=function(c,d){var b={};if(c)for(var a in c)b[a]=c[a];if(d)for(var a in d)b[a]=d[a];return b}